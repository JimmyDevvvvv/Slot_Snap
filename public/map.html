<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SlotSnap Parking Map</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      margin-top: 40px;
      background-color: #f5f5f5;
    }

    h1 {
      margin-bottom: 10px;
    }

    .map-container {
      display: inline-block;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }

    .map-row {
      display: flex;
      justify-content: center;
      margin-bottom: 15px;
    }

    .spot {
      width: 70px;
      height: 70px;
      margin: 0 10px;
      border: 2px solid #444;
      border-radius: 8px;
      cursor: pointer;
      position: relative;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .spot span {
      position: absolute;
      bottom: 5px;
      right: 5px;
      font-size: 12px;
      color: white;
      font-weight: bold;
    }

    .available { background-color: green; }
    .taken { background-color: goldenrod; pointer-events: none; }
    .unavailable { background-color: gray; pointer-events: none; }
    .reserved { background-color: royalblue; }

    .legend {
      margin-top: 20px;
    }

    .legend-item {
      display: inline-block;
      margin: 0 10px;
    }

    .legend-box {
      display: inline-block;
      width: 20px;
      height: 20px;
      margin-right: 5px;
      border: 1px solid #444;
      vertical-align: middle;
    }

    .legend-label {
      vertical-align: middle;
    }
  </style>
</head>
<body>
<h1>Welcome to SlotSnap Map</h1>
<p>Click an available spot to reserve it</p>

<div class="map-container" id="map"></div>

<div class="legend">
  <div class="legend-item"><div class="legend-box" style="background: green;"></div><span class="legend-label">Available</span></div>
  <div class="legend-item"><div class="legend-box" style="background: goldenrod;"></div><span class="legend-label">Taken</span></div>
  <div class="legend-item"><div class="legend-box" style="background: gray;"></div><span class="legend-label">Unavailable</span></div>
  <div class="legend-item"><div class="legend-box" style="background: royalblue;"></div><span class="legend-label">Your Reservation</span></div>
</div>

<script>
  const layout = [
    [0, 1, 2],
    [0, 0, 1],
    [2, 0, 0]
  ];
  // 0 = available, 1 = taken, 2 = unavailable, 3 = your reservation

  const mapDiv = document.getElementById("map");
  const rowLabels = ["A", "B", "C"];

  function drawMap() {
    mapDiv.innerHTML = '';

    layout.forEach((row, rowIndex) => {
      const rowDiv = document.createElement("div");
      rowDiv.className = "map-row";

      row.forEach((spot, colIndex) => {
        const spotDiv = document.createElement("div");
        spotDiv.classList.add("spot");

        if (spot === 0) spotDiv.classList.add("available");
        else if (spot === 1) spotDiv.classList.add("taken");
        else if (spot === 2) spotDiv.classList.add("unavailable");
        else if (spot === 3) spotDiv.classList.add("reserved");

        const label = document.createElement("span");
        label.innerText = `${rowLabels[rowIndex]}${colIndex + 1}`;
        spotDiv.appendChild(label);

        if (spot === 0) {
          spotDiv.addEventListener("click", () => {
            layout[rowIndex][colIndex] = 3;
            drawMap();
          });
        }

        rowDiv.appendChild(spotDiv);
      });

      mapDiv.appendChild(rowDiv);
    });
  }

  drawMap();
</script>
</body>
</html>
